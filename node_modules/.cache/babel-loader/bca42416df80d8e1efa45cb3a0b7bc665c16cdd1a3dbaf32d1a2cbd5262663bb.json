{"ast":null,"code":"import React,{useEffect}from'react';import{MapContainer,TileLayer,Marker,Popup,useMap}from'react-leaflet';import L,{Icon}from'leaflet';import'leaflet/dist/leaflet.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MapRefresher=()=>{const map=useMap();useEffect(()=>{const timer=setTimeout(()=>{map.invalidateSize();},10);return()=>clearTimeout(timer);},[map]);return null;};L.Icon.Default.mergeOptions({iconRetinaUrl:require('leaflet/dist/images/marker-icon-2x.png'),iconUrl:require('leaflet/dist/images/marker-icon.png'),shadowUrl:require('leaflet/dist/images/marker-shadow.png')});const customIcon=new Icon({iconUrl:'https://cdn-icons-png.flaticon.com/512/684/684908.png',iconSize:[38,38]});const MapComponent=_ref=>{let{center,zoom,points,isBlurred}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"map-container \".concat(isBlurred?'blurred':''),children:/*#__PURE__*/_jsxs(MapContainer,{center:center,zoom:zoom,scrollWheelZoom:true,className:\"leaflet-map\",children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(MapRefresher,{}),points.map(point=>/*#__PURE__*/_jsx(Marker,{position:[point.latitude,point.longitude],icon:customIcon,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:point.nome}),/*#__PURE__*/_jsx(\"br\",{}),point.endereco]})},point.id))]},JSON.stringify(center))});};export default MapComponent;","map":{"version":3,"names":["React","useEffect","MapContainer","TileLayer","Marker","Popup","useMap","L","Icon","jsx","_jsx","jsxs","_jsxs","MapRefresher","map","timer","setTimeout","invalidateSize","clearTimeout","Default","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","customIcon","iconSize","MapComponent","_ref","center","zoom","points","isBlurred","className","concat","children","scrollWheelZoom","attribution","url","point","position","latitude","longitude","icon","nome","endereco","id","JSON","stringify"],"sources":["C:/Users/user/OneDrive - PAVILOCHE INDUSTRIAL LTDA/Área de Trabalho/aqui-tem/frontend/src/MapComponent.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\r\nimport L, { LatLngExpression, Icon } from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { PointOfSale, Coordinates } from './interfaces';\r\n\r\ninterface MapComponentProps {\r\n    center: Coordinates;\r\n    zoom: number;\r\n    points: PointOfSale[];\r\n    isBlurred?: boolean;\r\n}\r\n\r\nconst MapRefresher = () => {\r\n    const map = useMap();\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            map.invalidateSize();\r\n        }, 10);\r\n        return () => clearTimeout(timer);\r\n    }, [map]);\r\n    return null;\r\n};\r\n\r\nL.Icon.Default.mergeOptions({\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nconst customIcon = new Icon({\r\n    iconUrl: 'https://cdn-icons-png.flaticon.com/512/684/684908.png',\r\n    iconSize: [38, 38],\r\n});\r\n\r\nconst MapComponent: React.FC<MapComponentProps> = ({ center, zoom, points, isBlurred }) => {\r\n    return (\r\n        <div className={`map-container ${isBlurred ? 'blurred' : ''}`}>\r\n            <MapContainer\r\n                key={JSON.stringify(center)}\r\n                center={center}\r\n                zoom={zoom}\r\n                scrollWheelZoom={true}\r\n                className=\"leaflet-map\"\r\n            >\r\n                <TileLayer\r\n                    attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                />\r\n                <MapRefresher />\r\n                {points.map(point => (\r\n                    <Marker\r\n                        key={point.id}\r\n                        position={[point.latitude, point.longitude]}\r\n                        icon={customIcon}\r\n                    >\r\n                        <Popup>\r\n                            <strong>{point.nome}</strong><br />\r\n                            {point.endereco}\r\n                        </Popup>\r\n                    </Marker>\r\n                ))}\r\n            </MapContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MapComponent;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,YAAY,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,CAAEC,MAAM,KAAQ,eAAe,CAC9E,MAAO,CAAAC,CAAC,EAAsBC,IAAI,KAAQ,SAAS,CACnD,MAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAUlC,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,GAAG,CAAGR,MAAM,CAAC,CAAC,CACpBL,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAc,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC3BF,GAAG,CAACG,cAAc,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,IAAMC,YAAY,CAACH,KAAK,CAAC,CACpC,CAAC,CAAE,CAACD,GAAG,CAAC,CAAC,CACT,MAAO,KAAI,CACf,CAAC,CAEDP,CAAC,CAACC,IAAI,CAACW,OAAO,CAACC,YAAY,CAAC,CACxBC,aAAa,CAAEC,OAAO,CAAC,wCAAwC,CAAC,CAChEC,OAAO,CAAED,OAAO,CAAC,qCAAqC,CAAC,CACvDE,SAAS,CAAEF,OAAO,CAAC,uCAAuC,CAC9D,CAAC,CAAC,CAEF,KAAM,CAAAG,UAAU,CAAG,GAAI,CAAAjB,IAAI,CAAC,CACxBe,OAAO,CAAE,uDAAuD,CAChEG,QAAQ,CAAE,CAAC,EAAE,CAAE,EAAE,CACrB,CAAC,CAAC,CAEF,KAAM,CAAAC,YAAyC,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,MAAM,CAAEC,IAAI,CAAEC,MAAM,CAAEC,SAAU,CAAC,CAAAJ,IAAA,CAClF,mBACIlB,IAAA,QAAKuB,SAAS,kBAAAC,MAAA,CAAmBF,SAAS,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAG,QAAA,cAC1DvB,KAAA,CAACV,YAAY,EAET2B,MAAM,CAAEA,MAAO,CACfC,IAAI,CAAEA,IAAK,CACXM,eAAe,CAAE,IAAK,CACtBH,SAAS,CAAC,aAAa,CAAAE,QAAA,eAEvBzB,IAAA,CAACP,SAAS,EACNkC,WAAW,CAAC,yFAAyF,CACrGC,GAAG,CAAC,oDAAoD,CAC3D,CAAC,cACF5B,IAAA,CAACG,YAAY,GAAE,CAAC,CACfkB,MAAM,CAACjB,GAAG,CAACyB,KAAK,eACb7B,IAAA,CAACN,MAAM,EAEHoC,QAAQ,CAAE,CAACD,KAAK,CAACE,QAAQ,CAAEF,KAAK,CAACG,SAAS,CAAE,CAC5CC,IAAI,CAAElB,UAAW,CAAAU,QAAA,cAEjBvB,KAAA,CAACP,KAAK,EAAA8B,QAAA,eACFzB,IAAA,WAAAyB,QAAA,CAASI,KAAK,CAACK,IAAI,CAAS,CAAC,cAAAlC,IAAA,QAAK,CAAC,CAClC6B,KAAK,CAACM,QAAQ,EACZ,CAAC,EAPHN,KAAK,CAACO,EAQP,CACX,CAAC,GAtBGC,IAAI,CAACC,SAAS,CAACnB,MAAM,CAuBhB,CAAC,CACd,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}